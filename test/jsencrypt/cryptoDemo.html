<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AES Encryption Example</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>

</head>
<body>
<h1>AES Encryption Example &crypto js </h1>
<input type="text" id="inputText1" placeholder="Enter text to encrypt">
<button onclick="encryptText()">Encrypt</button>
<p id="encryptedText"></p>
<input type="text" id="inputText2" placeholder="Enter text to encrypt">
<button onclick="decryptText()">Encrypt</button>
<p id="decryptedText"></p>
</body>
<script>
  /**
   * AES是一种对称密钥加密算法，这意味着加密和解密使用相同的密钥。理论上更简单高效
   * 但是不好匹配，javax.crypto.Cipher，原因可能是  DEFAULT_CIPHER_ALGORITHM = "AES/ECB/PKCS5Padding"
   */
  var secretKey = 'your-secret-key0'
  var config = {
    mode: CryptoJS.mode.ECB, // 使用ECB模式
    padding: CryptoJS.pad.Pkcs7 // 使用PKCS7填充
  }

  function encryptText() {
    var inputText1 = document.getElementById('inputText1').value
    var encryptedText = CryptoJS.AES.encrypt(inputText1, secretKey, config).toString()
    document.getElementById('encryptedText').innerText = 'Encrypted: ' + encryptedText
  }

  function decryptText() {
    var inputText2 = document.getElementById('inputText2').value
    // 解密
    var decrypted = CryptoJS.AES.decrypt(inputText2, secretKey, config)
    document.getElementById('decryptedText').innerText = 'Decrypted: ' + decrypted.toString(CryptoJS.enc.Utf8)
  }


</script>
</html>
